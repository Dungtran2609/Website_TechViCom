
| STT | Module | Tên Test Case | Mô tả | Bước thực hiện | Dữ liệu kiểm thử | Kết quả mong đợi |
|-----|--------|---------------|-------|----------------|------------------|------------------|
| 1 | Coupon | Mã hợp lệ, giảm theo % | Áp dụng mã giảm giá phần trăm | 1. Nhập mã 'SALE10'\n2. Nhập subtotal 1.000.000₫\n3. Gửi API | coupon_code: 'SALE10', subtotal: 1.000.000₫, coupon: {discount_type: 'percent', value: 10, status: true, start_date: đã hiệu lực, end_date: chưa hết hạn} | success: true, discount_amount: 100.000₫, message: "Giảm 10% - Tiết kiệm 100.000₫" |
| 2 | Coupon | Mã hợp lệ, giảm số tiền cố định | Áp dụng mã giảm giá cố định | Nhập mã 'GIAM50K', subtotal 500.000₫, gửi API | coupon_code: 'GIAM50K', subtotal: 500.000₫, coupon: {discount_type: 'fixed', value: 50.000, status: true} | success: true, discount_amount: 50.000₫, message: "Giảm 50.000₫" |
| 3 | Coupon | Mã không tồn tại | Kiểm tra mã không tồn tại | Nhập mã 'KHONGTONTAI', subtotal 1.000.000₫, gửi API | coupon_code: 'KHONGTONTAI', subtotal: 1.000.000₫ | success: false, message: "Mã giảm giá không tồn tại hoặc đã bị vô hiệu hóa" |
| 4 | Coupon | Mã đã hết hạn | Kiểm tra mã hết hạn | Nhập mã 'SALE10', subtotal 1.000.000₫, coupon end_date đã qua | coupon_code: 'SALE10', subtotal: 1.000.000₫, coupon: {end_date: đã qua} | success: false, message: "Mã giảm giá đã hết hạn" |
| 5 | Coupon | Mã chưa đến ngày bắt đầu | Kiểm tra mã chưa hiệu lực | Nhập mã 'SALE10', subtotal 1.000.000₫, coupon start_date ngày mai | coupon_code: 'SALE10', subtotal: 1.000.000₫, coupon: {start_date: ngày mai} | success: false, message: "Mã giảm giá chưa có hiệu lực" |
| 6 | Coupon | Đơn hàng chưa đạt giá trị tối thiểu | Kiểm tra min_order_value | Nhập mã 'SALE10', subtotal 100.000₫, coupon min_order_value 200.000₫ | coupon_code: 'SALE10', subtotal: 100.000₫, coupon: {min_order_value: 200.000₫} | success: false, message: "Đơn hàng chưa đạt giá trị tối thiểu 200.000₫" |
| 7 | Coupon | Đơn hàng vượt quá giá trị tối đa | Kiểm tra max_order_value | Nhập mã 'SALE10', subtotal 10.000.000₫, coupon max_order_value 5.000.000₫ | coupon_code: 'SALE10', subtotal: 10.000.000₫, coupon: {max_order_value: 5.000.000₫} | success: false, message: "Đơn hàng vượt quá giá trị tối đa 5.000.000₫" |
| 8 | Coupon | Mã % có giới hạn giảm tối đa | Kiểm tra max_discount_amount | Nhập mã 'SALE50', subtotal 10.000.000₫, coupon: {discount_type: 'percent', value: 50, max_discount_amount: 500.000₫} | coupon_code: 'SALE50', subtotal: 10.000.000₫, coupon: {discount_type: 'percent', value: 50, max_discount_amount: 500.000₫} | success: true, discount_amount: 500.000₫, message: "Giảm 50% - Tiết kiệm 500.000₫ (tối đa 500.000₫)" |
| 9 | Coupon | Mã giảm giá lớn hơn tổng đơn hàng | Kiểm tra giảm giá không vượt tổng | Nhập mã 'GIAM1TR', subtotal 500.000₫, coupon: {discount_type: 'fixed', value: 1.000.000₫} | coupon_code: 'GIAM1TR', subtotal: 500.000₫, coupon: {discount_type: 'fixed', value: 1.000.000₫} | success: true, discount_amount: 500.000₫ |
| 10 | Coupon | Mã hợp lệ nhưng bị vô hiệu hóa | Kiểm tra coupon status false | Nhập mã 'SALE10', subtotal 1.000.000₫, coupon: {status: false} | coupon_code: 'SALE10', subtotal: 1.000.000₫, coupon: {status: false} | success: false, message: "Mã giảm giá không tồn tại hoặc đã bị vô hiệu hóa" |
